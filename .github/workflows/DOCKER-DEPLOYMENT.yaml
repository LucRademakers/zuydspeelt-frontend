name: Create and Build Node.js Project

on:
  workflow_dispatch:
  
env:
  DOCKER_USERNAME: ${{ secrets.DOCKER_USERNAME }}
  DOCKER_PASSWORD: ${{ secrets.DOCKER_PASSWORD }}

jobs:
  Docker_Build_and_Push:
    name: Build and Push Docker Image
    runs-on: ubuntu-latest
    steps:
    - name: Check GitHub Repository
      uses: actions/checkout@v3.5.2
      
    - name: Login with Credentials
      run: docker login -u $DOCKER_USERNAME -p $DOCKER_PASSWORD
      
    - name: Build Docker image
      run: docker build -t $DOCKER_USERNAME/zuydspeelt_front-end:1.0 .
      
    - name: Push Docker image
      run: docker push $DOCKER_USERNAME/zuydspeelt_front-end:1.0
